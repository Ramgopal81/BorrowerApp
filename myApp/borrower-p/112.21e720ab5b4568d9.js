"use strict";(self.webpackChunkBorrowerP=self.webpackChunkBorrowerP||[]).push([[112],{7112:(k,m,a)=>{a.r(m),a.d(m,{default:()=>y});var p=a(4755),i=a(9401),l=a(2446),t=a(2223),c=a(4239),g=a(7999);let d=(()=>{class r{constructor(o,e,n,u){this.fb=o,this.router=e,this.apiService=n,this._authService=u,this.formSubmitted=!1,this.loginForm=this.fb.group({mobile:["",[i.kI.required,i.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],pin:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(4)]]})}onLogin(){if(this.formSubmitted=!0,this.loginForm.valid){const o=this.loginForm.get("mobile")?.value,e=this.loginForm.get("pin")?.value;o&&e&&this.apiService.login(o,e).pipe().subscribe({next:n=>{n&&(console.log(n),this.applicantType=n.user.company_code,this.userId=n.user.user_id,this.mobile=n.user.mobile_no,this.allowedAmount=n.company.allowed_amount,this.currAmount=parseInt(n.company.current_amount),sessionStorage.setItem("companyCode",this.applicantType),sessionStorage.setItem("userId",this.userId),sessionStorage.setItem("mobile",this.mobile),sessionStorage.setItem("allowed",this.allowedAmount),sessionStorage.setItem("current",this.currAmount),console.log(this.applicantType),this._authService.processingData("ram578hshjsaghhdcd"),"N"==n.user.is_first_login?this.router.navigate(["dashboard"]):"Y"==n.user.is_first_login&&this.router.navigate(["reset"]))},error:n=>{console.log(n)},complete:()=>{}})}}forgetPassword(){this.router.navigate(["auth/forget"])}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(i.qu),t.Y36(l.F0),t.Y36(c.s),t.Y36(g.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],standalone:!0,features:[t.jDz],decls:19,vars:1,consts:[[1,"justifycontentend",2,"background-color","rgb(12, 91, 137)","height","100px"],[2,"display","flex","justify-content","end","align-items","center"],[2,"margin-right","150px","font-size","xx-large","justify-content","center","align-items","center","color","aliceblue","margin-top","30px"],["src","../../../assets/Arthavedika.png","alt","",2,"height","45px","margin-top","25px"],["src","../../../assets/682-6829362_wipro-logo-png.png","alt","Makespay.png",2,"height","45px","margin-top","25px"],["src","../../../assets/Arthavedika.png","alt","shareindia.png",2,"height","45px","margin-top","25px","margin-right","100px"],[3,"formGroup","ngSubmit"],["type","number","formControlName","mobile","placeholder","Mobile","onKeyPress","if(this.value.length==10) return false;",2,"justify-self","center","margin-top","25px","border-radius","5px"],["type","password","formControlName","pin","placeholder","M-Pin",2,"justify-self","center","margin-top","20px","margin-left","20px","border-radius","5px"],["type","submit",1,"btn","btn-success",2,"margin-top","0px","margin-left","20px","background-color","rgb(12, 91, 137)"],["type","submit",1,"btn","btn-success",2,"margin-top","0px","margin-left","20px","background-color","rgb(12, 91, 137)",3,"click"],[1,"centerNumberDiv"],[2,"color","rgb(12, 91, 137)","font-size","35px"],[2,"width","85%","font-size","25px","margin-top","25px","margin-left","10px","font-family","serif","align-items","last baseline"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"span",1)(2,"h5",2),t._uU(3," TAA Online "),t.qZA(),t._UZ(4,"img",3)(5,"img",4)(6,"img",5),t.TgZ(7,"form",6),t.NdJ("ngSubmit",function(){return e.onLogin()}),t._UZ(8,"input",7)(9,"input",8),t.TgZ(10,"button",9),t._uU(11," Sign in "),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){return e.forgetPassword()}),t._uU(13," Forget Pin "),t.qZA()()()(),t.TgZ(14,"div",11)(15,"h3",12),t._uU(16,"Welcome to Truckers Advance Authorisation System"),t.qZA(),t.TgZ(17,"p",13),t._uU(18," Welcome to truckers authorisation application. This application is developed for users to authorize the applicant and to make the loan approval system easier. There is a three step verification for loan authorisation by Arthavedika, Makespay and Shareindia. Once the application is reviewed by all, applicant\u2019s loan is approved. This also include user management to add, modify or\xa0delete a user. "),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("formGroup",e.loginForm))},dependencies:[p.ez,i.UX,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,l.Bz],styles:[".centerNumberDiv[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:55em;height:20em;transform:translate(-50%,-50%);position:fixed}"]}),r})();var f=a(5226),h=a.n(f);function b(r,s){1&r&&(t.TgZ(0,"div",13),t._uU(1," Enter a valid mobile no. "),t.qZA())}function v(r,s){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.resetPass())}),t._uU(2," Get Otp "),t.qZA()()}}function _(r,s){1&r&&(t.TgZ(0,"div",13),t._uU(1," Enter Otp "),t.qZA())}function x(r,s){if(1&r&&(t.TgZ(0,"div")(1,"div",15)(2,"div",8),t._UZ(3,"input",16),t.qZA(),t.YNc(4,_,2,0,"div",10),t.qZA()()),2&r){const o=t.oxw();let e;t.xp6(4),t.Q6J("ngIf",o.formSubmitted&&(null==(e=o.resetForm.get("pin"))?null:e.hasError("required")))}}function F(r,s){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"button",17),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.otpCheck())}),t._uU(2," Submit "),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.resetPass())}),t._uU(4," Resend Otp "),t.qZA()()}}function T(r,s){1&r&&(t.TgZ(0,"div",13),t._uU(1," Enter M-pin "),t.qZA())}function Z(r,s){if(1&r&&(t.TgZ(0,"div")(1,"div",15)(2,"div",8),t._UZ(3,"input",18),t.qZA(),t.YNc(4,T,2,0,"div",10),t.qZA()()),2&r){const o=t.oxw();let e;t.xp6(4),t.Q6J("ngIf",o.formSubmitted&&(null==(e=o.resetForm.get("pin"))?null:e.hasError("required")))}}function w(r,s){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.createMpin())}),t._uU(2," Submit "),t.qZA()()}}const y=[{path:"login",component:d},{path:"forget",component:(()=>{class r{constructor(o,e,n){this.fb=o,this.router=e,this.apiService=n,this.formSubmitted=!1,this.userId=sessionStorage.getItem("userId"),this.mobile=sessionStorage.getItem("mobile"),this.msg=!1,this.resendButton=!1,this.otpButton=!0,this.mpinFeild=!1,this.resetForm=this.fb.group({pin:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(4)]],otp:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(4)]],mobile:["",[i.kI.required,i.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]]})}resetPass(){this.apiService.postForgetPass({mobile_no:this.resetForm.value.mobile,otp:null,new_password:null}).pipe().subscribe({next:e=>{1==e.status&&(this.otpButton=!1,this.resendButton=!0),setTimeout(()=>{1==e.status&&(this.msg=!0)},1e3)},error:e=>{console.log(e)},complete:()=>{}})}onLogin(){this.router.navigate(["/auth/login"])}otpCheck(){this.apiService.postForgetPass({mobile_no:this.resetForm.value.mobile,otp:this.resetForm.value.otp,new_password:null}).pipe().subscribe({next:e=>{1==e.status&&(this.resendButton=!1,this.mpinFeild=!0)},error:e=>{console.log(e)},complete:()=>{}})}createMpin(){this.apiService.postForgetPass({mobile_no:this.resetForm.value.mobile,otp:this.resetForm.value.otp,new_password:this.resetForm.value.pin}).pipe().subscribe({next:e=>{h().fire({position:"center",icon:e.status?"success":"error",title:e.message}).then(n=>{n.isConfirmed&&n&&this.router.navigate(["/auth/login"])})},error:e=>{console.log(e)},complete:()=>{}})}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(i.qu),t.Y36(l.F0),t.Y36(c.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-forget-password"]],standalone:!0,features:[t.jDz],decls:21,vars:7,consts:[[1,"justifycontentend",2,"background-color","rgb(12, 91, 137)","height","100px"],[2,"display","flex","justify-content","end","align-items","center"],["type","submit",1,"btn","btn-success",2,"margin","20px","margin-left","20px","background-color","rgb(12, 91, 137)",3,"click"],[1,"centerNumberDiv"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-center","pb-1","pt-4"],[2,"color","black"],[1,"pt-3","pb-3"],[2,"padding-left","15px","padding-right","15px"],["type","number","formControlName","mobile","placeholder","Mobile","onKeyPress","if(this.value.length==10) return false;",1,"form-control"],["style","color: red; padding-left: 15px",4,"ngIf"],[1,"d-flex","justify-content-center","pt-3",2,"align-items","center"],[4,"ngIf"],[2,"color","red","padding-left","15px"],["type","submit",1,"btn","btn-success",2,"margin-left","10px","background-color","rgb(12, 91, 137)",3,"click"],[1,"pt-2","pb-1"],["type","password","formControlName","otp","placeholder","Otp","onKeyPress","if(this.value.length==4) return false;",1,"form-control"],["type","button",1,"btn","btn-success",2,"margin-left","10px","background-color","rgb(12, 91, 137)",3,"click"],["type","password","formControlName","pin","placeholder","Enter M-pin","onKeyPress","if(this.value.length==4) return false;",1,"form-control"]],template:function(o,e){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.onLogin()}),t._uU(3," Sign in "),t.qZA()()(),t.TgZ(4,"div",3)(5,"form",4),t.NdJ("ngSubmit",function(){return e.resetPass()}),t.TgZ(6,"div",5)(7,"h3",6),t._uU(8,"Forget M-pin"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._UZ(11,"input",9),t.qZA(),t.YNc(12,b,2,0,"div",10),t.qZA(),t.TgZ(13,"div",11),t.YNc(14,v,3,0,"div",12),t.qZA(),t.YNc(15,x,5,1,"div",12),t.TgZ(16,"div",11),t.YNc(17,F,5,0,"div",12),t.qZA(),t.YNc(18,Z,5,1,"div",12),t.TgZ(19,"div",11),t.YNc(20,w,3,0,"div",12),t.qZA()()()),2&o){let n;t.xp6(5),t.Q6J("formGroup",e.resetForm),t.xp6(7),t.Q6J("ngIf",e.formSubmitted&&(null==(n=e.resetForm.get("mobile"))?null:n.hasError("required"))),t.xp6(2),t.Q6J("ngIf",1==e.otpButton),t.xp6(1),t.Q6J("ngIf",1==e.msg),t.xp6(2),t.Q6J("ngIf",1==e.resendButton),t.xp6(1),t.Q6J("ngIf",1==e.mpinFeild),t.xp6(2),t.Q6J("ngIf",1==e.mpinFeild)}},dependencies:[p.ez,p.O5,i.UX,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,l.Bz],styles:[".centerNumberDiv[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:30em;height:20em;transform:translate(-50%,-50%);position:fixed}"]}),r})()},{path:"",redirectTo:"login",pathMatch:"full"}]}}]);